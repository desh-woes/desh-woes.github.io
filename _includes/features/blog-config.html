{% comment %}
  Blog Configuration
  Shared constants and configuration values used across modules.
  This ensures consistency and makes it easy to update values in one place.
{% endcomment %}

<script>
(function() {
  'use strict';
  
  // Prevent duplicate initialization
  if (window.BlogConfig) {
    return;
  }
  
  /**
   * Blog Configuration
   * Centralized configuration constants
   */
  window.BlogConfig = {
    // LocalStorage keys
    STORAGE_KEYS: {
      THEME: 'blog-theme',
      ORDER: 'blog-order',
      PREFERENCES_SET: 'blog-preferences-set'
    },
    
    // Theme values
    THEMES: {
      MODERN: 'modern',
      HACKER: 'hacker'
    },
    
    // Order values
    ORDERS: {
      CHRONOLOGICAL: 'chronological',
      RANDOM: 'random'
    },
    
    // Default values
    DEFAULTS: {
      THEME: 'hacker',
      ORDER: 'chronological'
    },
    
    // Paths
    PATHS: {
      HOME: '/',
      WELCOME: '/welcome.html'
    },
    
    // Favicon URLs (theme-specific)
    FAVICONS: {
      MODERN: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cdefs%3E%3Cfilter id='glow'%3E%3CfeGaussianBlur stdDeviation='1.5' result='coloredBlur'/%3E%3CfeMerge%3E%3CfeMergeNode in='coloredBlur'/%3E%3CfeMergeNode in='SourceGraphic'/%3E%3C/feMerge%3E%3C/filter%3E%3ClinearGradient id='dGrad' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' stop-color='%236366f1'/%3E%3Cstop offset='100%25' stop-color='%23818cf8'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='100' height='100' fill='%230f172a' rx='10'/%3E%3Cpath d='M 26 20 L 26 80 L 46 80 C 68 80 74 80 74 50 C 74 20 68 20 46 20 Z' fill='none' stroke='url(%23dGrad)' stroke-width='4' stroke-linecap='round' stroke-linejoin='round' filter='url(%23glow)'/%3E%3C/svg%3E",
      HACKER: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cdefs%3E%3Cfilter id='glow'%3E%3CfeGaussianBlur stdDeviation='1.5' result='coloredBlur'/%3E%3CfeMerge%3E%3CfeMergeNode in='coloredBlur'/%3E%3CfeMergeNode in='SourceGraphic'/%3E%3C/feMerge%3E%3C/filter%3E%3ClinearGradient id='dGrad' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' stop-color='%23b5e853'/%3E%3Cstop offset='100%25' stop-color='%23a0d640'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='100' height='100' fill='%23151515' rx='10'/%3E%3Cpath d='M 26 20 L 26 80 L 46 80 C 68 80 74 80 74 50 C 74 20 68 20 46 20 Z' fill='none' stroke='url(%23dGrad)' stroke-width='4' stroke-linecap='round' stroke-linejoin='round' filter='url(%23glow)'/%3E%3C/svg%3E"
    }
  };
  
  /**
   * Update favicon based on theme
   * Can be called early (before ThemeManager loads) or later
   * @param {string} theme - Theme name ('modern' or 'hacker')
   */
  window.updateFavicon = function(theme) {
    if (!theme) {
      // Try to get from localStorage if not provided
      try {
        theme = localStorage.getItem(window.BlogConfig.STORAGE_KEYS.THEME) || window.BlogConfig.DEFAULTS.THEME;
      } catch (e) {
        theme = window.BlogConfig.DEFAULTS.THEME;
      }
    }
    
    const isHacker = theme === window.BlogConfig.THEMES.HACKER;
    const faviconUrl = isHacker ? window.BlogConfig.FAVICONS.HACKER : window.BlogConfig.FAVICONS.MODERN;
    
    // Update existing favicon links
    const faviconLink = document.querySelector("link[rel='icon']");
    const alternateFaviconLink = document.querySelector("link[rel='alternate icon']");
    
    if (faviconLink) faviconLink.href = faviconUrl;
    if (alternateFaviconLink) alternateFaviconLink.href = faviconUrl;
  };
})();
</script>

